<!DOCTYPE html>
<html>
<head>
  <title>ID Card Generator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f2f2f2; text-align: center; }
    form { background: white; padding: 20px; margin: 50px auto; width: 350px; border-radius: 10px; }
    input, textarea, select { width: 90%; padding: 10px; margin: 10px; border-radius: 5px; border: 1px solid #ccc; }
    button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; }
    button:hover { background: #0056b3; }
    .bg-preview img { width: 80px; height: 100px; margin: 5px; border-radius: 5px; border: 2px solid #ccc; cursor: pointer; }
  </style>
  <script>
    function selectBg(bg) {
      document.getElementById('bg_choice').value = bg;
      const imgs = document.querySelectorAll('.bg-preview img');
      imgs.forEach(i => i.style.border = '2px solid #ccc');
      document.getElementById(bg).style.border = '3px solid #007bff';
    }
  </script>
</head>
<body>
  <h2>Company ID Card Generator</h2>
  <form action="/generate" method="POST" enctype="multipart/form-data">
    <input type="text" name="company" placeholder="Company Name" required><br>
    <input type="text" name="name" placeholder="Employee Name" required><br>
    <input type="text" name="phone" placeholder="Phone Number" required><br>
    <input type="text" name="blood" placeholder="Blood Group" required><br>
    <textarea name="address" placeholder="Address" required></textarea><br>
    <input type="text" name="id_no" placeholder="ID Number" required><br>
    <input type="file" name="photo" accept="image/*" required><br>

    <h4>Select Background:</h4>
    <div class="bg-preview">
      {% for bg in bg_list %}
        <img src="{{ url_for('static', filename='backgrounds/' + bg) }}" id="{{ bg }}" onclick="selectBg('{{ bg }}')">
      {% endfor %}
    </div>
    <input type="hidden" id="bg_choice" name="bg_choice" value="{{ bg_list[0] }}">

    <button type="submit">Generate ID Card</button>
  </form>
</body>
</html>
